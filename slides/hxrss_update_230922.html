<!doctype html>
<html lang="en">

	<head>
		<meta charset="utf-8">

		<title>HXRSS update FELRD</title>
		<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">

		<link rel="stylesheet" href="../dist/reveal.css">
		<link rel="stylesheet" href="../dist/theme/white.css">
		<link rel="stylesheet" href="../dist/theme/zenburn.css">
		<link rel="stylesheet" href="../dist/theme/reveal_override.css" id="theme"/>
		<script src="plugin/highlight/highlight.js"></script>
		<style>
			
		</style>
	</head>

	<body>
		<div class="reveal">
			<div class="slides">

				<section>
					<h2 align="left">Blue Week Update: HXRSS Energy Scans</h2><br>
					<h4 align="left">FEL R&D meeting, 28.09.2022</h4><br><br>
					<p align="left">
						<small>Christian Grech, on behalf of HXRSS op team</small>
					</p>
					<div class="r-hstack">
						<img src="./logos/Helmholtz.png" width="150" height="30"> 
						<p style="padding: 0em; background: #fff; margin: 0 18em 0 0em"></p>
						<img src="./logos/DESY_logo.png" width="120" height="120"> 
						<p style="padding: 0.2em; background: #fff; margin: 0.2em"></p>
						<img src="./logos/XFEL.jpg" width="120" height="120">
					</div>
				</section>

				<section>
					<h2 align="left">Agenda</h2><br>
					<ul align="left">
						<li class="fragment"> Goals </li>
						<li class="fragment"> HXRSS Energy Scan Procedure </li>
						<li class="fragment"> Blue week tests </li>
						<li class="fragment"> Outcomes </li>
					</ul>
				</section>

				<section class="top" data-background="#009fdf">
					<h1>Goals</h1>
				</section>

				<section>
					<h2 align="left">Goals</h2><br>
					<ul align="left">
						<li class="fragment"> Increase/decrease undulator energy in step sizes that could be as low as 0.5 eV. </li>
						<li class="fragment"> Maintain a self-seeded signal on a specific reflection over a range of ~ 100 eV.</li>
						<li class="fragment"> Crystal model calculates a new pitch angle based on the difference in energy noted. </li>
						<li class="fragment"> The new pitch angle is pushed as the new crystal setpoint. </li>
					</ul>
				</section>

				<section class="top" data-background="#009fdf">
					<h1>HXRSS Energy Scan Procedure</h1>
				</section>

				<section data-auto-animate>
					<h2>Procedure</h2><br><br>
					<div class="r-hstack">
						<p class="fragment" style="padding: 1em; background: #eee; margin: 0.6em"><small>Undulator Control Python Script</p>
						<p class="fragment" style="padding: 1.6em; background: #eee; margin: 0.6em">Crystal Set Tool: Scan Feature</p>
						<p class="fragment" style="padding: 1.05em; background: #eee; margin: 0.6em">Monochromator Crystal</small></p>
					</div><br>
				</section>

				<section id="vstack">
					<h2>Undulator Photon Energy Control script  </h2><br>
					<p align="left"><small> Script in /home/xfeloper/user/chgrech/hxrss/scripts</small></p>
					<pre><code class="python" data-trim data-line-numbers="1|1-2|1,3|1,4|1,5|1,6">
					    >>> python und_energy_program.py
																			--start_en	10000  # Col 1 start energy in eV
																			--step	10         # Step size in eV
																			--no_steps	10     # Number of steps
																			--pause	100        # Pause time in seconds
																			--colors	1,3      # Color 
					</code></pre><br>
				</section>

				<section>
					<h2>Crystal Set Tool in BKR</h2>
					<div class="r-stack">
						<img src="./figures/screen1.png" width="750" height="520" class="fragment fade-in-then-out">
						<img src="./figures/screen2.png" width="750" height="520" class="fragment fade-in-then-out">
						<img src="./figures/screen0.png" width="520" height="540" class="fragment fade-in-then-out">
					</div>
				</section>


				<section>
					<h1>Setting up Scan Mode</h1>
					<div class="r-stack">
						<img src="./figures/screen3.png" width="500" height="500" class="fragment fade-in-then-out">
						<img src="./figures/screen4.png" width="500" height="500" class="fragment fade-in-then-out">
						<img src="./figures/screen5.png" width="800" height="500" class="fragment fade-in-then-out">
						<img src="./figures/screen6.png" width="500" height="500" class="fragment fade-in-then-out">
						<img src="./figures/screen7.png" width="500" height="500" class="fragment fade-in-then-out">
						<img src="./figures/screen8.png" width="500" height="500" class="fragment fade-in-then-out">
					</div>
					<div>
						<p align="left"><small>Detailed manual is on the HXRSS Confluence page</small></p>
					</div>
					
				</section>


				<section class="top" data-background="#009fdf">
					<h1>Blue Week Tests</h1>
				</section>

				<section>
					<h2 align="left">Summary of scans on 10.09.22</h2><br>
					<ul align="left">
						<li class="fragment"> HXRSS setup at 12.4 keV.</li>
						<li class="fragment"> Increments of 0.5 eV with 10 second pauses.</li>
						<li class="fragment"> Increasing pause time to 100 s. </li>
						<li class="fragment"> Decreasing steps over 100 eV. </li>
						<li class="fragment"> Total durations ranging between 10 - 30 minutes. </li>
					</ul><br>
				</section>

				<section>
					<h3>Test over a range of 100 eV</h3>
					<div class="iframe">
						<embed width="1000" height="550" frameborder="0" seamless='seamless' scrolling=no src="./graphs/run5.html"></iframe>
					</div>
				</section>

				<section data-background="#009fdf">
					<h2>Outcomes</h2>
				</section>

				<section data-transition="fade-in">
					<h2 align="left">Outcomes</h2><br>
					<ul>
						<li class="fragment"> A script synchronously adjusts multiple colors.</li>
						<li class="fragment"> The scan feature is able to pick up changes in photon energy and calculate new crystal pitch angles. </li>
						<li class="fragment"> The crystal set tool continously updates the crystal setpoint. </li>
						<li class="fragment"> Limitations include maintaining a pause ~ 1 min between steps. </li>
						<li class="fragment"> Collaboration with users on the tool's integration with their DAQ. </li>
					</ul><br>
				</section>

				<section data-background="#009fdf">
					<h2>Questions?</h2>
				</section>

			</div>

		</div>

		<script src="../dist/reveal.js"></script>
		<script src="../plugin/highlight/highlight.js"></script>
		<script>
			Reveal.initialize({
				center: true,
				hash: true,
				plugins: [ RevealHighlight ],
				slideNumber: 'c/t',
				transition: 'slide' // none/fade/slide/convex/concave/zoom
			});
		</script>

		<style type="text/css">
			/* 1. Style header/footer <div> so they are positioned as desired. */
			#header-left {
				position: absolute;
				top: 0%;
				left: 0%;
			}
			#header-right {
				position: absolute;
				top: 0%;
				right: 0%;
			}
			#footer-left {
				position: absolute;
				bottom: 2%;
				left: 2%;
				font-size: 18px;
				color: rgba(0, 0, 0, 0.5);
			}
		</style>

		<!-- 2. Create hidden header/footer <div> -->
		<div id="hidden" style="display:none;">
			<div id="header">
				<div id="footer-left">HXRSS blue week update | Christian Grech, 28.09.2022 </div>
			</div>
		</div>

		<script src="https://code.jquery.com/jquery-2.2.4.min.js"></script>
		<script type="text/javascript">
			// 3. On Reveal.js ready event, copy header/footer <div> into each `.slide-background` <div>
			var header = $('#header').html();
			if ( window.location.search.match( /print-pdf/gi ) ) {
				Reveal.addEventListener( 'ready', function( event ) {
					$('.slide-background').append(header);
				});
			}
			else {
				$('div.reveal').append(header);
		}
		</script>
	</body>
</html>
